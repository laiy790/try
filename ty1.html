<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        .mytext{ 
            width: 300px; 
            height:30px;
        }
       .ban{
           width:500px;
           height:auto;
           border:1px solid black;
       }
        #send {
            width:40px;
            height:25px;
            font-size: 12px;
            text-align: center;
            line-height: 25px;
            background: rgb(208, 209, 118);
        }
    </style>
</head>
<body>
    <br/><h1 style="font-family:Arial Black;">使用者名稱: <input type="text" id="user" class="mytext"/><br/></h1>
    <h1 style="font-family:Arial Black;">留言:</h1><br/> <textarea id="word"></textarea><br/>
    <button id="send" style="text-align:center;">發送</button>
<div class="ban"></div>
<script>
var user=document.getElementById ("user");
var word=document.getElementById ("word");
var send=document.getElementById ("send");
var ban=document.querySelector (".ban");
//localStorage.clear ();
readdata();
send.onclick =function(){
  var time=new Date();
  var aiw={    //存放的地方
        theuser:user.value,
        theword:word .value,
        now_time:time.toLocaleString()  //時間
    };
    // console.log(JSON.stringify (aiw));
    localStorage.setItem (time.getTime(),JSON.stringify (aiw));
    user.value="";
    word.value ="";

    // alert("發送成功");
     readdata();
}
function readdata(){
    ban.innerHTML ="";
    var length=localStorage.length-1;
    for(var i=length;i>=0;i--){
      var k=localStorage.key(i);  
      var data=JSON.parse (localStorage.getItem(k));  //
        console.log(k);
        ban.innerHTML +=data.theuser +" :&nbsp;&nbsp;"+data.theword +" <br/>"+ data.now_time +"<br/>";
    }
}
</script>
</body>
</html>